
> multiversx-mcp-server@1.0.0 test
> jest

(node:55159) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
PASS src/utils/__tests__/whitelistRegistry.test.ts
  â— Console

    console.warn
      Whitelist file not found at /Users/robertsasu/RustProjects/agentic-payments/multiversx-mcp-server/whitelists.json. Using empty list.

      11 |         const filePath = path.resolve(process.cwd(), "whitelists.json");
      12 |         if (!fs.existsSync(filePath)) {
    > 13 |             console.warn(`Whitelist file not found at ${filePath}. Using empty list.`);
         |                     ^
      14 |             cachedWhitelist = [];
      15 |             return cachedWhitelist;
      16 |         }

      at loadWhitelist (src/utils/whitelistRegistry.ts:13:21)
      at Object.<anonymous> (src/utils/__tests__/whitelistRegistry.test.ts:41:22)

    console.error
      Invalid whitelist format: expected an array of strings.

      20 |
      21 |         if (!Array.isArray(list)) {
    > 22 |             console.error("Invalid whitelist format: expected an array of strings.");
         |                     ^
      23 |             cachedWhitelist = [];
      24 |             return cachedWhitelist;
      25 |         }

      at loadWhitelist (src/utils/whitelistRegistry.ts:22:21)
      at Object.<anonymous> (src/utils/__tests__/whitelistRegistry.test.ts:48:22)

    console.error
      Error loading whitelist: Unexpected token 'i', "invalid-json" is not valid JSON

      28 |         return cachedWhitelist;
      29 |     } catch (error) {
    > 30 |         console.error("Error loading whitelist:", error instanceof Error ? error.message : "Unknown error");
         |                 ^
      31 |         cachedWhitelist = [];
      32 |         return cachedWhitelist;
      33 |     }

      at loadWhitelist (src/utils/whitelistRegistry.ts:30:17)
      at Object.<anonymous> (src/utils/__tests__/whitelistRegistry.test.ts:55:22)

(node:55157) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
PASS src/__tests__/tools/issueCollections.test.ts
